<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SIANA Robot Interface</title>
    <link rel="stylesheet" href="styles/interface.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>SIANA Robot Interface</h1>
            <div class="connection-status">
                <span id="wifi-status" class="connected"><i class="fa-solid fa-wifi"></i> Connecté</span>
            </div>
        </header>

        <div class="main-content">
            <div class="left-panel">
                <div class="camera-feed">
                    <h2>Détection d'objets</h2>
                    <div class="camera-container">
                        <div class="detection-mode-selector">
                            <div class="mode-toggle">
                                <input type="radio" id="image-mode" name="detection-mode" value="image" checked>
                                <label for="image-mode">Image</label>
                                <input type="radio" id="realtime-mode" name="detection-mode" value="realtime">
                                <label for="realtime-mode">Temps réel</label>
                            </div>
                        </div>
                        
                        <div id="image-detection-container" class="detection-container">
                            <div class="image-upload-container">
                                <form id="image-upload-form" enctype="multipart/form-data">
                                    <div class="upload-area" id="upload-area">
                                        <i class="fa-solid fa-cloud-arrow-up"></i>
                                        <p>Glissez une image ou cliquez pour choisir</p>
                                        <input type="file" id="image-input" accept="image/*" hidden>
                                    </div>
                                    <button type="submit" id="process-image-btn" disabled>Analyser l'image</button>
                                </form>
                                <div class="result-container" id="result-container" style="display: none;">
                                    <img id="result-image" src="" alt="Résultat de l'analyse">
                                    <button id="new-image-btn">Nouvelle image</button>
                                </div>
                            </div>
                        </div>
                        
                        <div id="realtime-detection-container" class="detection-container" style="display: none;">
                            <div class="stream-container">
                                <div class="canvas-container">
                                    <img id="camera-stream" src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="Camera Stream">
                                    <canvas id="detection-overlay" class="detection-overlay"></canvas>
                                    <div id="stream-status" class="stream-status disconnected">Flux vidéo déconnecté</div>
                                </div>
                                
                                <div class="detection-controls">
                                    <button id="toggle-detection" class="action-btn success"><i class="fa-solid fa-magnifying-glass"></i> Activer la détection</button>
                                    <button id="create-annotation" class="action-btn"><i class="fa-solid fa-draw-polygon"></i> Annotation manuelle</button>
                                </div>

                                <div id="manual-annotation-panel" class="annotation-panel" style="display: none;">
                                    <h3>Nouvelle Annotation</h3>
                                    <form id="annotation-form">
                                        <div class="form-group